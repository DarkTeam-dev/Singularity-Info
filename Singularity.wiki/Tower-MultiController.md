# Общие принципы

Перед чтением этой статьи рекомендуется ознакомиться с тем, зачем МЕ вообще нужна, что такое каналы, что в тонких кабелях их 8, а в толстых - 32 и почему они кончаются. Далее мы разберём, что же с этим делать и как с таким ограничением люди делают базу на тысячи каналов.

Итак, у контроллера из каждой стороны можно забрать по 32 канала. Несколько контроллеров стоящих рядом - объединяются.

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/controller-5-branches.jpg)

Но не стоит спешить - ведь, замкнутые контроллеры перестают работать (это можно увидеть по потухшему свечению)

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/error-conflict.jpg)

А линия из контроллеров больше семи - отрубит всю машину и заставит её гореть красным цветом.

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/error-long.jpg)

Каналов нужно очень много (тысячи под конец игры) и разводить по всей базе десятки Dense-кабелей, конечно, не очень приятно. Потому на помощь приходят...

# Point-To-Point туннели

Это специальный механизм, который позволяет "архивировать" 32 канала в один и отправлять этот архив на другой туннель, который "разархивирует" его в те же самые 32 канала.

Так мы можем отправить по одному Dense-кабелю 32 архива, в каждом архиве до 32 каналов. Это позволяет передавать через один кабель до 1024 каналов. Такой кабель с туннелями называется `магистраль`.

Из магистрали при помощи p2p-туннелей выходят Dense-кабели, которые создают разноцветные `ветки` сети.

У каждого интерфейса есть две стороны - "разъём" и "лицо" и их нельзя путать. "Лицо" используется для получения из контроллера 32 несжатых каналов, а разъём - получает и отправляет по магистрали один "архив". Важно - "лицо" можно и нужно подключать к Dense-кабелю, в то время как "Разъём" подключиться только к любому тонкому. Эти тонкие потом собираются в толстые и образуют магистрали.

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/face-connector.jpg)

Другой важный момент - туннели не передают архивы друг другу. Потому туннели не соединяются между собой каналами. Все тунели передают архив и соединяются только с контроллером. На картинке видно, что к контроллеру идёт два канала - от каждого из тунелей. 

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/highway-bad.jpg)

Потому если подключать оба тунеля на одну магистраль - она сможет обеспечить только 16 соединений или 512 каналов. А значит, при сборе мультиконтроллера стоит учитывать эту особенность. Магистраль, которая разводит архивы по базе должна выходить из одной стороны контроллера, а собранные архивы должны попадать в другую сторону контроллера.

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/highway-good.jpg)


Зная эти принципы мы можем создать самую дешёвую МЕ-сеть. В ней один контроллер, из которого магистраль уходит вниз, 4 ветки выходят из каждой стороны, отправляются в туннели и это всё собирается сверху.

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/network.jpg)

К сожалению, хотя этот способ очень простой - он подойдёт только для самого старта или дополнительной мелкой базы, т.к. не позволяет расширяться. И тут на помощь нам придут башенные мультиконтроллеры. Они простые, понятные, с лёгким доступом к туннелям, возможностью повесить табличку с названием каждой ветки и легко расширяются.

# [Одинарная башня](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Small)
Самый простой вариант. Снизу уходит одна магистраль. По бокам от него выходят толстые кабели в туннели, а все "архивы" собираются через верх.

Преимущества:
* Дешёвая
* Компактная
* Можно расширять постепенно, начиная с одного контроллера
* До 896 каналов в 28 ветках
* Отлично подходит для второстепенных баз.

Недостатки:
* Всего 1 магистраль
* Малая способность к расширению. Как основной её перестанет хватать уже на LuV-тире!

Минимальная занимаемая площадь: 5х5

[Пошаговая инструкция →](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Small)

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/options-small.jpg)

# [Двойная башня](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Medium)
Оптимальный вариант. Несколько магистралей, что позволяет не экономить каналы. Построена по тем же принципам, что и предыдущая - по бокам от неё выходят толстые кабели в туннели, а все "архивы" собираются через верх.

Преимущества:
* Можно расширять постепенно, начиная с одного контроллера и
* До 1792 каналов в 56 ветках
* 4 магистрали
* Вам хватит её надолго. Возможно, даже до конца игры.

Размещение контроллеров:
2x2, до 7 в высоту

Минимальная занимаемая площадь: 6х6

[Пошаговая инструкция →](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Medium)

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/options-medium.jpg)

# [Максимальная башня](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Big)
Для тех, кто не хочет ограничений. Много магистралей и много каналов. Те же принципы, что и раньше.

Преимущества:
* До 3584 каналов в 112 ветках
* До 24 магистралей
* Вам хватит её

Недостатки:
* Сложнее выглядит
* Занимает много места
* Дорогая

Размещение контроллеров:
7x7, 7 в высоту

Минимальная занимаемая площадь: 11х11

[Пошаговая инструкция →](https://github.com/IdealIndustrial/GT5Unofficial/wiki/Tower-MultiController.-Big)

![](https://raw.githubusercontent.com/IdealIndustrial/IdealIndustrial.github.io/main/wiki/me-tunnels/theory/options-big.jpg)